        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>URIBuilder class / httputils Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        </head>
        <body data-library="httputils" data-type="URIBuilder">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">Dart Documentation</a>
         &rsaquo; <a href="../httputils.html">httputils</a> &rsaquo; <a href="../httputils/URIBuilder.html">URIBuilder</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
<h2><div class="icon-library"></div><a href="../httputils.html">httputils</a></h2><ul class="icon">
<li><a href="../httputils/BasicNameValuePair.html"><div class="icon-class"></div>BasicNameValuePair</a></li>
<li><a href="../httputils/HttpStatus.html"><div class="icon-class"></div>HttpStatus</a></li>
<li><a href="../httputils/NameValuePair.html"><div class="icon-class"></div>NameValuePair</a></li>
<li><div class="icon-class"></div><strong>URIBuilder</strong></li>
<li><a href="../httputils/URISyntaxException.html"><div class="icon-exception"></div>URISyntaxException</a></li>
</ul>
</div>
<div class="content">
        <h2><strong>URIBuilder</strong>
          class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<p>@since 4.2</p>
<pre class="source">
class URIBuilder {

   Map&lt;String,String&gt; queryParams = new Map&lt;String,String&gt;();
   
   String _scheme = "http";
   String _userInfo = "";
   String _host = "";
   String _path = "";
   String _fragment = "";
   
   int port = 0;

   URIBuilder() {
     
   }
   
   URIBuilder.fromString(final String string) {
       _digestURI(Uri.parse(string));
   }

   URIBuilder.fromUri(final Uri uri) {
       _digestURI(uri);
   }

   
   /**
    * Builds a Uri instance.
    */
   Uri build({final bool encode: true}) {
     final Uri uri = new Uri(
         scheme: _scheme,
         userInfo: _userInfo,
         host: _host,
         port: port,
         path: _path,
         queryParameters: queryParams,
         fragment: _fragment
         );
     return encode ? Uri.parse(Uri.encodeFull(uri.toString())) : uri;
   }

   Uri decode() {
     return Uri.parse(Uri.decodeFull(build().toString()));
   }
   
   /**
    * Sets Uri scheme.
    */
   URIBuilder setScheme(final String scheme) {
       this._scheme = scheme;
       return this;
   }

   /**
    * Sets Uri user-info in a form of 'username:password'.
    */
   URIBuilder setUserInfo(final String username, final String password) {
     this._userInfo = "$username:$password";
     return this;
   }

   /**
    * Sets Uri host.
    */
   URIBuilder setHost(final String host) {
       this._host = host;
       return this;
   }

   /**
    * Sets Uri port.
    */
   URIBuilder setPort(final int port) {
       this.port = port &lt; 0 ? 0 : port;
       return this;
   }

   /**
    * Sets Uri path.
    */
   URIBuilder setPath(final String path) {
       this._path = path; 
       return this;
   }

   /**
    * Removes all query parameters.
    */
   URIBuilder removeQuery() {
       this.queryParams.clear();
       return this;
   }

   /**
    * Set Uri query.
    */
   URIBuilder setQuery(final String query) {
       queryParams = new Map&lt;String,String&gt;.from(_parseQuery(query));
       return this;
   }

   /**
    * Sets parameter-value pair to Uri query removing existing parameters with the same name.
    */
   URIBuilder setParameter(final String name, final String value) {
       this.queryParams[name] =  value;
       return this;
   }


   /**
    * Sets Uri fragment.
    */
   URIBuilder setFragment(final String fragment) {
       this._fragment = fragment;
       return this;
   }

   //---------------------------------------------------------------------------------------------
   // private
   //---------------------------------------------------------------------------------------------
   
   Map&lt;String,String&gt; _parseQuery(final String query) {
       final Map&lt;String,String&gt; nvps = new Map&lt;String,String&gt;();
       
       if (query != null &amp;&amp; query.length &gt; 0) {
           final List&lt;String&gt; namevalues = query.split("&amp;");
           for(final String namevalue in namevalues) {
             final List&lt;String&gt; pair = namevalue.split("=");
             if(pair.length == 2) {
               nvps[pair[0]] = pair[1];
             }
           }
       }
       return nvps;
   }

   void _digestURI(final Uri uri) {
       this._scheme = uri.scheme;
       this._host = uri.host;
       this.port = uri.port;
       this._userInfo = "";
       this._path = uri.path;
       this._fragment = uri.fragment;
       
       this.queryParams = new Map&lt;String,String&gt;.from(uri.queryParameters);
   }    
}
</pre>
</div>
<div>
<h3>Constructors</h3>
<div class="method"><h4 id="URIBuilder">
<button class="show-code">Code</button>
new <strong>URIBuilder</strong>() <a class="anchor-link" href="#URIBuilder"
              title="Permalink to URIBuilder.URIBuilder">#</a></h4>
<div class="doc">
<pre class="source">
URIBuilder() {
 
}
</pre>
</div>
</div>
<div class="method"><h4 id="URIBuilder.fromString">
<button class="show-code">Code</button>
new <strong>URIBuilder.fromString</strong>(<a href="http://api.dartlang.org/dart_core/String.html">String</a> string) <a class="anchor-link" href="#URIBuilder.fromString"
              title="Permalink to URIBuilder.URIBuilder.fromString">#</a></h4>
<div class="doc">
<pre class="source">
URIBuilder.fromString(final String string) {
   _digestURI(Uri.parse(string));
}
</pre>
</div>
</div>
<div class="method"><h4 id="URIBuilder.fromUri">
<button class="show-code">Code</button>
new <strong>URIBuilder.fromUri</strong>(<a href="http://api.dartlang.org/dart_core/Uri.html">Uri</a> uri) <a class="anchor-link" href="#URIBuilder.fromUri"
              title="Permalink to URIBuilder.URIBuilder.fromUri">#</a></h4>
<div class="doc">
<pre class="source">
URIBuilder.fromUri(final Uri uri) {
   _digestURI(uri);
}
</pre>
</div>
</div>
</div>
<div>
<h3>Properties</h3>
<div class="field"><h4 id="port">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>port</strong> <a class="anchor-link"
            href="#port"
            title="Permalink to URIBuilder.port">#</a>
        </h4>
        <div class="doc">
<pre class="source">
int port = 0
</pre>
</div>
</div>
<div class="field"><h4 id="queryParams">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/Map.html">Map</a>&lt;<a href="http://api.dartlang.org/dart_core/String.html">String</a>, <a href="http://api.dartlang.org/dart_core/String.html">String</a>&gt;         <strong>queryParams</strong> <a class="anchor-link"
            href="#queryParams"
            title="Permalink to URIBuilder.queryParams">#</a>
        </h4>
        <div class="doc">
<pre class="source">
Map&lt;String,String&gt; queryParams = new Map&lt;String,String&gt;()
</pre>
</div>
</div>
</div>
<div>
<h3>Methods</h3>
<div class="method"><h4 id="build">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/Uri.html">Uri</a> <strong>build</strong>({<a href="http://api.dartlang.org/dart_core/bool.html">bool</a> encode: true}) <a class="anchor-link" href="#build"
              title="Permalink to URIBuilder.build">#</a></h4>
<div class="doc">
<p>Builds a Uri instance.</p>
<pre class="source">
Uri build({final bool encode: true}) {
 final Uri uri = new Uri(
     scheme: _scheme,
     userInfo: _userInfo,
     host: _host,
     port: port,
     path: _path,
     queryParameters: queryParams,
     fragment: _fragment
     );
 return encode ? Uri.parse(Uri.encodeFull(uri.toString())) : uri;
}
</pre>
</div>
</div>
<div class="method"><h4 id="decode">
<button class="show-code">Code</button>
<a href="http://api.dartlang.org/dart_core/Uri.html">Uri</a> <strong>decode</strong>() <a class="anchor-link" href="#decode"
              title="Permalink to URIBuilder.decode">#</a></h4>
<div class="doc">
<pre class="source">
Uri decode() {
 return Uri.parse(Uri.decodeFull(build().toString()));
}
</pre>
</div>
</div>
<div class="method"><h4 id="removeQuery">
<button class="show-code">Code</button>
<a href="../httputils/URIBuilder.html">URIBuilder</a> <strong>removeQuery</strong>() <a class="anchor-link" href="#removeQuery"
              title="Permalink to URIBuilder.removeQuery">#</a></h4>
<div class="doc">
<p>Removes all query parameters.</p>
<pre class="source">
URIBuilder removeQuery() {
   this.queryParams.clear();
   return this;
}
</pre>
</div>
</div>
<div class="method"><h4 id="setFragment">
<button class="show-code">Code</button>
<a href="../httputils/URIBuilder.html">URIBuilder</a> <strong>setFragment</strong>(<a href="http://api.dartlang.org/dart_core/String.html">String</a> fragment) <a class="anchor-link" href="#setFragment"
              title="Permalink to URIBuilder.setFragment">#</a></h4>
<div class="doc">
<p>Sets Uri fragment.</p>
<pre class="source">
URIBuilder setFragment(final String fragment) {
   this._fragment = fragment;
   return this;
}
</pre>
</div>
</div>
<div class="method"><h4 id="setHost">
<button class="show-code">Code</button>
<a href="../httputils/URIBuilder.html">URIBuilder</a> <strong>setHost</strong>(<a href="http://api.dartlang.org/dart_core/String.html">String</a> host) <a class="anchor-link" href="#setHost"
              title="Permalink to URIBuilder.setHost">#</a></h4>
<div class="doc">
<p>Sets Uri host.</p>
<pre class="source">
URIBuilder setHost(final String host) {
   this._host = host;
   return this;
}
</pre>
</div>
</div>
<div class="method"><h4 id="setParameter">
<button class="show-code">Code</button>
<a href="../httputils/URIBuilder.html">URIBuilder</a> <strong>setParameter</strong>(<a href="http://api.dartlang.org/dart_core/String.html">String</a> name, <a href="http://api.dartlang.org/dart_core/String.html">String</a> value) <a class="anchor-link" href="#setParameter"
              title="Permalink to URIBuilder.setParameter">#</a></h4>
<div class="doc">
<p>Sets parameter-value pair to Uri query removing existing parameters with the same name.</p>
<pre class="source">
URIBuilder setParameter(final String name, final String value) {
   this.queryParams[name] =  value;
   return this;
}
</pre>
</div>
</div>
<div class="method"><h4 id="setPath">
<button class="show-code">Code</button>
<a href="../httputils/URIBuilder.html">URIBuilder</a> <strong>setPath</strong>(<a href="http://api.dartlang.org/dart_core/String.html">String</a> path) <a class="anchor-link" href="#setPath"
              title="Permalink to URIBuilder.setPath">#</a></h4>
<div class="doc">
<p>Sets Uri path.</p>
<pre class="source">
URIBuilder setPath(final String path) {
   this._path = path; 
   return this;
}
</pre>
</div>
</div>
<div class="method"><h4 id="setPort">
<button class="show-code">Code</button>
<a href="../httputils/URIBuilder.html">URIBuilder</a> <strong>setPort</strong>(<a href="http://api.dartlang.org/dart_core/int.html">int</a> port) <a class="anchor-link" href="#setPort"
              title="Permalink to URIBuilder.setPort">#</a></h4>
<div class="doc">
<p>Sets Uri port.</p>
<pre class="source">
URIBuilder setPort(final int port) {
   this.port = port &lt; 0 ? 0 : port;
   return this;
}
</pre>
</div>
</div>
<div class="method"><h4 id="setQuery">
<button class="show-code">Code</button>
<a href="../httputils/URIBuilder.html">URIBuilder</a> <strong>setQuery</strong>(<a href="http://api.dartlang.org/dart_core/String.html">String</a> query) <a class="anchor-link" href="#setQuery"
              title="Permalink to URIBuilder.setQuery">#</a></h4>
<div class="doc">
<p>Set Uri query.</p>
<pre class="source">
URIBuilder setQuery(final String query) {
   queryParams = new Map&lt;String,String&gt;.from(_parseQuery(query));
   return this;
}
</pre>
</div>
</div>
<div class="method"><h4 id="setScheme">
<button class="show-code">Code</button>
<a href="../httputils/URIBuilder.html">URIBuilder</a> <strong>setScheme</strong>(<a href="http://api.dartlang.org/dart_core/String.html">String</a> scheme) <a class="anchor-link" href="#setScheme"
              title="Permalink to URIBuilder.setScheme">#</a></h4>
<div class="doc">
<p>Sets Uri scheme.</p>
<pre class="source">
URIBuilder setScheme(final String scheme) {
   this._scheme = scheme;
   return this;
}
</pre>
</div>
</div>
<div class="method"><h4 id="setUserInfo">
<button class="show-code">Code</button>
<a href="../httputils/URIBuilder.html">URIBuilder</a> <strong>setUserInfo</strong>(<a href="http://api.dartlang.org/dart_core/String.html">String</a> username, <a href="http://api.dartlang.org/dart_core/String.html">String</a> password) <a class="anchor-link" href="#setUserInfo"
              title="Permalink to URIBuilder.setUserInfo">#</a></h4>
<div class="doc">
<p>Sets Uri user-info in a form of 'username:password'.</p>
<pre class="source">
URIBuilder setUserInfo(final String username, final String password) {
 this._userInfo = "$username:$password";
 return this;
}
</pre>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2013-06-14 19:05:47.575</div>
        </div>
        <script async src="../client-static.js"></script>
        </body></html>
        
